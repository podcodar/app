name: Integration Tests

on:
  pull_request:
    branches:
      - main

jobs:
  integration-tests:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Build container images
        id: build-docker-images
        run: docker-compose build

      - name: Run integration tests
        id: integration-tests
        run: docker-compose run integration-test

      # - name: Stop app and cleanup
      #   run: |
      #     npm run down
      #     docker-compose rm -f -s -v
